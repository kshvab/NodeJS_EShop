<!DOCTYPE html>
<html lang="ru">
<% include lay_adm_1_head.ejs %>

<body>

  <%- transData.mapScript%>

  <div id="wrapper">
    <% include lay_adm_2_navigation.ejs %>

    <!-- #page-wrapper -->
    <div id="page-wrapper">
      <div class="row">
        <div class="col-lg-4">
          <h1 class="page-header">GPS</h1>

        </div>

        <div class="col-lg-2">
          <div class="gps-filter-group">
            <input id="gps-filter-date-input" type="date" class="form-control
              gps-filter-date" value=<%=transData.gpsDate%> />
          </div>
        </div>
        <div class="col-lg-2">
          <div class="gps-filter-group">
            <select id="gps-filter-agent-select" class="form-control">
              <option selected="" value="0" disabled>Агент</option>
              <% if (transData.agentsArr && transData.agentsArr.length) { %>
              <% transData.agentsArr.forEach(function(item){ %>
              <option <% if (transData.gpsAgent == item) {%>selected="" <%}%>
                      value=<%=item%>>
                <%=item%>
              </option>
              <% }); %>
              <%}%>
            </select>
          </div>
        </div>

        <div class="col-lg-2">
          <div class="gps-filter-group">
            <select id="gps-filter-starttime-select" class="form-control">
              

              <option <% if (transData.startTime == '00:00') {%>selected="" <%}%>>
                00:00
              </option>
              <option <% if (transData.startTime == '01:00') {%>selected="" <%}%>>
                01:00
              </option>
              <option <% if (transData.startTime == '02:00') {%>selected="" <%}%>>
                02:00
              </option>
              <option <% if (transData.startTime == '03:00') {%>selected="" <%}%>>
                03:00
              </option>
              <option <% if (transData.startTime == '04:00') {%>selected="" <%}%>>
                04:00
              </option>
              <option <% if (transData.startTime == '05:00') {%>selected="" <%}%>>
                05:00
              </option>
              <option <% if (transData.startTime == '06:00') {%>selected="" <%}%>>
                06:00
              </option>
              <option <% if (transData.startTime == '07:00') {%>selected="" <%}%>>
                07:00
              </option>
              <option <% if (transData.startTime == '08:00') {%>selected="" <%}%>>
                08:00
              </option>
              <option <% if (transData.startTime == '09:00') {%>selected="" <%}%>>
                09:00
              </option>
              <option <% if (transData.startTime == '10:00') {%>selected="" <%}%>>
                10:00
              </option>
              <option <% if (transData.startTime == '11:00') {%>selected="" <%}%>>
                11:00
              </option>
              <option <% if (transData.startTime == '12:00') {%>selected="" <%}%>>
                12:00
              </option>
              <option <% if (transData.startTime == '13:00') {%>selected="" <%}%>>
                13:00
              </option>
              <option <% if (transData.startTime == '14:00') {%>selected="" <%}%>>
                14:00
              </option>
              <option <% if (transData.startTime == '15:00') {%>selected="" <%}%>>
                15:00
              </option>
              <option <% if (transData.startTime == '16:00') {%>selected="" <%}%>>
                16:00
              </option>
              <option <% if (transData.startTime == '17:00') {%>selected="" <%}%>>
                17:00
              </option>
              <option <% if (transData.startTime == '18:00') {%>selected="" <%}%>>
                18:00
              </option>
              <option <% if (transData.startTime == '19:00') {%>selected="" <%}%>>
                19:00
              </option>
              <option <% if (transData.startTime == '20:00') {%>selected="" <%}%>>
                20:00
              </option>
              <option <% if (transData.startTime == '21:00') {%>selected="" <%}%>>
                21:00
              </option>
              <option <% if (transData.startTime == '22:00') {%>selected="" <%}%>>
                22:00
              </option>
              <option <% if (transData.startTime == '23:00') {%>selected="" <%}%>>
                23:00
              </option>

              
            </select>
          </div>
        </div>

        <div class="col-lg-2">
            <div class="gps-filter-group">
              <select id="gps-filter-endtime-select" class="form-control">


                  <option <% if (transData.endTime == '01:00') {%>selected="" <%}%>>
                    01:00
                  </option>
                  <option <% if (transData.endTime == '02:00') {%>selected="" <%}%>>
                    02:00
                  </option>
                  <option <% if (transData.endTime == '03:00') {%>selected="" <%}%>>
                    03:00
                  </option>
                  <option <% if (transData.endTime == '04:00') {%>selected="" <%}%>>
                    04:00
                  </option>
                  <option <% if (transData.endTime == '05:00') {%>selected="" <%}%>>
                    05:00
                  </option>
                  <option <% if (transData.endTime == '06:00') {%>selected="" <%}%>>
                    06:00
                  </option>
                  <option <% if (transData.endTime == '07:00') {%>selected="" <%}%>>
                    07:00
                  </option>
                  <option <% if (transData.endTime == '08:00') {%>selected="" <%}%>>
                    08:00
                  </option>
                  <option <% if (transData.endTime == '09:00') {%>selected="" <%}%>>
                    09:00
                  </option>
                  <option <% if (transData.endTime == '10:00') {%>selected="" <%}%>>
                    10:00
                  </option>
                  <option <% if (transData.endTime == '11:00') {%>selected="" <%}%>>
                    11:00
                  </option>
                  <option <% if (transData.endTime == '12:00') {%>selected="" <%}%>>
                    12:00
                  </option>
                  <option <% if (transData.endTime == '13:00') {%>selected="" <%}%>>
                    13:00
                  </option>
                  <option <% if (transData.endTime == '14:00') {%>selected="" <%}%>>
                    14:00
                  </option>
                  <option <% if (transData.endTime == '15:00') {%>selected="" <%}%>>
                    15:00
                  </option>
                  <option <% if (transData.endTime == '16:00') {%>selected="" <%}%>>
                    16:00
                  </option>
                  <option <% if (transData.endTime == '17:00') {%>selected="" <%}%>>
                    17:00
                  </option>
                  <option <% if (transData.endTime == '18:00') {%>selected="" <%}%>>
                    18:00
                  </option>
                  <option <% if (transData.endTime == '19:00') {%>selected="" <%}%>>
                    19:00
                  </option>
                  <option <% if (transData.endTime == '20:00') {%>selected="" <%}%>>
                    20:00
                  </option>
                  <option <% if (transData.endTime == '21:00') {%>selected="" <%}%>>
                    21:00
                  </option>
                  <option <% if (transData.endTime == '22:00') {%>selected="" <%}%>>
                    22:00
                  </option>
                  <option <% if (transData.endTime == '23:00') {%>selected="" <%}%>>
                    23:00
                  </option>
                  <option <% if (transData.endTime == '24:00') {%>selected="" <%}%>>
                    24:00
                  </option>
                

              </select>
            </div>
          </div>




      </div>
        <!-- /.row -->

        <!-- MAIN CONTENT HERE: -->
        <div class="row">
          <div class="col-lg-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-lg-2 gps-map-head">
                    MAP
                  </div>
                  <div class="col-lg-2 gps-map-head">
                    Date: <%=transData.gpsDate%>
          </div>
          <div class="col-lg-3 gps-map-head">
            Agent: <%=transData.gpsAgent%>
          </div>
          <div class="col-lg-5">

            <button id="gps-reload-button" type="button" class="btn btn-primary btn-sm hidden">
              <i class="fa fa-retweet fa-fw"></i> Reload
            </button>

          </div>
        </div>
      </div>
      <div class="panel-body">
        <%if (transData.error) {%>
        <div class="alert alert-dismissible alert-warning">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          <h4 class="alert-heading">Упс!</h4>
          <p class="mb-0"><%=transData.error%></p>
        </div>
        <%} else {%>
        <!--The div element for the map -->
        <div class="map-container">
          <div id="map"></div>
        </div>
        <%}%>
              </div>
            </div>
          </div>
        </div>
          <hr />
          <div class="row">
          <div class="col-lg-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                info
              </div>
           
              <div class="panel-body">
               <div><b>Километраж от первой до последней точки:</b> <span id="distanceinfo"></span></div>
               <div><b>Первая точка:</b> <span id="firstpoint"></span></div>
               <div><b>Последняя точка:</b> <span id="lastpoint"></span></div>
              </div>
            </div>
          </div>
        </div>
        <!-- /MAIN CONTENT HERE: -->
      </div>
      <!-- /#page-wrapper -->
    </div>
    <!-- /#wrapper -->
    
    <% include lay_adm_4_bottomscripts.ejs %>
        <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBrxP2_boPPXzMZM5Mzjck4CwnDHBd1fBk&callback=initMap"></script>

</body>

</html>